(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["single-album"],{1518:function(t,e,n){"use strict";var a=n("b713"),r=n.n(a);r.a},"608a":function(t,e,n){"use strict";var a=n("ca6b");e["a"]={index:function(t){return Object(a["a"])().get("cart",{params:t})},post:function(t){return Object(a["a"])().post("cart",t)},delete:function(t){return Object(a["a"])().delete("cart/".concat(t))}}},"66b1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-btn",{attrs:{flat:"",dark:"",round:"",color:"pink"},on:{click:t.goBack}},[n("v-icon",[t._v("arrow_back_ios")]),t._v("\n    Back\n  ")],1),n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs6:"",sm5:"",md4:""}},[n("album-image",{attrs:{url:t.album.imageUrl}})],1),n("v-flex",{attrs:{xs6:"",sm5:"",md4:""}},[n("album-metadata",{attrs:{album:t.album},on:{done:function(e){t.dialog=!0}}})],1)],1),n("album-detail",{staticClass:"mt-5",attrs:{link:t.scLink,songs:t.album.songs,summary:t.album.description}}),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-text",[t._v("\n        Added 1 item to cart!\n      ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.goToCheckout}},[t._v("\n          Go To Checkout\n        ")]),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("\n          Close\n        ")])],1)],1)],1)],1)},r=[],o=n("a34a"),i=n.n(o),c=n("2f62"),s=n("fda7"),u=n("c085"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{staticClass:"image",attrs:{src:t.url,alt:""}})},v=[],f={props:["url"]},d=f,b=(n("1518"),n("2877")),p=Object(b["a"])(d,l,v,!1,null,"30a122ec",null);p.options.__file="AlbumImage.vue";var m=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"a-title"},[t._v("\n    "+t._s(t.album.title)+"\n  ")]),n("div",{staticClass:"a-artist"},[t._v("\n    "+t._s(t.album.artist)+"\n  ")]),n("div",{staticClass:"a-sub blue--text"},[t._v("\n    "+t._s(t.album.genre)+"\n  ")]),n("div",{staticClass:"a-sub"},[t._v("\n    "+t._s(t.getPrice)+"\n  ")]),n("div",{staticClass:"success--text"},[t._v("\n    Avaliability: "+t._s(t.album.stocks)+"\n  ")]),t.isUserLoggedIn?n("div",[t.love?t._e():n("v-btn",{attrs:{flat:"",dark:"",round:"",color:"pink"},on:{click:t.setLove}},[n("v-icon",[t._v("favorite_border")]),t._v("\n      Love It!\n    ")],1),t.love?n("v-btn",{attrs:{flat:"",dark:"",round:"",color:"pink"},on:{click:t.unsetLove}},[n("v-icon",[t._v("favorite")]),t._v("\n      Loved\n    ")],1):t._e(),t.isAvailable?n("v-btn",{attrs:{flat:"",dark:"",round:"",color:"green"},on:{click:t.addToCart}},[n("v-icon",[t._v("add_shopping_cart")]),t._v("\n      Add to cart\n    ")],1):n("v-btn",{attrs:{flat:"",dark:"",round:"",color:"grey"}},[n("v-icon",[t._v("add_shopping_cart")]),t._v("\n      Out of Stock!\n    ")],1)],1):n("div",[n("p",[t._v("Please Login or Register for more features")])])])},g=[],_=n("f9f3"),k=n("608a"),y=n("62ed");function w(t,e){return j(t)||O(t,e)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function O(t,e){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)if(n.push(i.value),e&&n.length===e)break}catch(s){r=!0,o=s}finally{try{a||null==c["return"]||c["return"]()}finally{if(r)throw o}}return n}function j(t){if(Array.isArray(t))return t}function L(t,e,n,a,r,o,i){try{var c=t[o](i),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(a,r)}function V(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){L(o,a,r,i,c,"next",t)}function c(t){L(o,a,r,i,c,"throw",t)}i(void 0)})}}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){I(t,e,n[e])})}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A={props:["album"],data:function(){return{love:null}},computed:C({},Object(c["b"])({isUserLoggedIn:function(t){return t.auth.isUserLoggedIn},user:function(t){return t.auth.user}}),{getPrice:function(){return y["a"].format(this.album.price/100)},isAvailable:function(){return this.album.stocks>0}}),watch:{album:function(){var t=V(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.isUserLoggedIn){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,_["a"].index({albumId:this.album.id});case 5:e=t.sent.data,e.length&&(n=w(e,1),this.love=n[0]),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[2,9]])}));return function(){return t.apply(this,arguments)}}()},methods:{setLove:function(){var t=V(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_["a"].post({albumId:this.album.id});case 3:this.love=t.sent.data,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),unsetLove:function(){var t=V(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_["a"].delete(this.love.loveId);case 3:this.love=null,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),addToCart:function(){var t=V(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k["a"].post({albumId:this.album.id});case 3:this.item=t.sent.data,this.$emit("done"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()}},P=A,T=(n("8624"),n("6544")),S=n.n(T),U=n("8336"),E=n("132d"),$=Object(b["a"])(P,h,g,!1,null,"53edb397",null);$.options.__file="AlbumMetadata.vue";var B=$.exports;S()($,{VBtn:U["a"],VIcon:E["a"]});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs8:"",sm6:"",md4:""}},[n("v-card",{attrs:{flat:""}},[n("v-img",[t.link?n("vue-media-embed",{attrs:{source:t.link,showUser:t.author}}):t._e()],1),n("v-card-title",[t._v(t._s(t.summary))])],1),n("v-list",[n("v-subheader",[t._v("Songs List")]),t._l(t.songs,function(e,a){return n("v-list-tile",{key:a,attrs:{avatar:""},on:{click:function(t){}}},[n("v-list-tile-avatar",[t._v("\n          "+t._s(a)+".\n        ")]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e)}})],1)],1)})],2)],1)],1)},M=[],F={props:["link","songs","summary"],data:function(){return{author:1}}},J=F,G=(n("a51f"),n("b0af")),H=n("12b2"),R=n("0e8f"),q=n("adda"),z=n("a722"),K=n("8860"),N=n("ba95"),Q=n("c954"),W=n("5d23"),X=n("e0c7"),Y=Object(b["a"])(J,D,M,!1,null,"d405d8c0",null);Y.options.__file="AlbumDetail.vue";var Z=Y.exports;function tt(t,e,n,a,r,o,i){try{var c=t[o](i),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(a,r)}function et(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){tt(o,a,r,i,c,"next",t)}function c(t){tt(o,a,r,i,c,"throw",t)}i(void 0)})}}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){at(t,e,n[e])})}return t}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}S()(Y,{VCard:G["a"],VCardTitle:H["a"],VFlex:R["a"],VImg:q["a"],VLayout:z["a"],VList:K["a"],VListTile:N["a"],VListTileAvatar:Q["a"],VListTileContent:W["a"],VListTileTitle:W["b"],VSubheader:X["a"]});var rt={data:function(){return{album:{},scLink:"",dialog:!1}},methods:{goBack:function(){this.dialog=!1,this.$router.go(-1)},goToCheckout:function(){this.dialog=!1,this.$router.push("/cart")}},computed:nt({},Object(c["b"])({isUserLoggedIn:function(t){return t.auth.isUserLoggedIn},user:function(t){return t.auth.user},route:function(t){return t.route}})),mounted:function(){var t=et(i.a.mark(function t(){var e;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.route.params.albumId,t.next=3,s["a"].show(e);case 3:this.album=t.sent.data,this.scLink="soundcloud://".concat(this.album.soundCloudId),this.isUserLoggedIn&&u["a"].post({albumId:e});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),components:{AlbumImage:m,AlbumMetadata:B,AlbumDetail:Z}},ot=rt,it=(n("c724"),n("99d9")),ct=n("a523"),st=n("169a"),ut=n("9910"),lt=Object(b["a"])(ot,a,r,!1,null,"dcc6c2de",null);lt.options.__file="ViewAlbum.vue";e["default"]=lt.exports;S()(lt,{VBtn:U["a"],VCard:G["a"],VCardActions:it["a"],VCardText:it["b"],VContainer:ct["a"],VDialog:st["a"],VFlex:R["a"],VIcon:E["a"],VLayout:z["a"],VSpacer:ut["a"]})},8624:function(t,e,n){"use strict";var a=n("e56f"),r=n.n(a);r.a},a51f:function(t,e,n){"use strict";var a=n("c13c"),r=n.n(a);r.a},b713:function(t,e,n){},c085:function(t,e,n){"use strict";var a=n("ca6b");e["a"]={index:function(t){return Object(a["a"])().get("view-history",{params:t})},post:function(t){return Object(a["a"])().post("view-history",t)}}},c13c:function(t,e,n){},c724:function(t,e,n){"use strict";var a=n("f05a"),r=n.n(a);r.a},e56f:function(t,e,n){},f05a:function(t,e,n){},f9f3:function(t,e,n){"use strict";var a=n("ca6b");e["a"]={index:function(t){return Object(a["a"])().get("loves",{params:t})},post:function(t){return Object(a["a"])().post("loves",t)},delete:function(t){return Object(a["a"])().delete("loves/".concat(t))}}}}]);
//# sourceMappingURL=single-album.28535984.js.map