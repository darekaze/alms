(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["purchase-history"],{"0798":function(t,e,n){"use strict";n("a57f");var s=n("9d26"),a=n("b64a"),r=n("98a1"),i=n("2b0e"),o=i["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),l=n("58df");e["a"]=Object(l["a"])(a["a"],r["a"],o).extend({name:"v-alert",props:{dismissible:Boolean,icon:String,outline:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}}},computed:{computedColor:function(){return this.type&&!this.color?this.type:this.color||"error"},computedIcon:function(){if(this.icon||!this.type)return this.icon;switch(this.type){case"info":return"$vuetify.icons.info";case"error":return"$vuetify.icons.error";case"success":return"$vuetify.icons.success";case"warning":return"$vuetify.icons.warning"}}},methods:{genIcon:function(){return this.computedIcon?this.$createElement(s["a"],{class:"v-alert__icon"},this.computedIcon):null},genDismissible:function(){var t=this;return this.dismissible?this.$createElement("a",{class:"v-alert__dismissible",on:{click:function(){t.isActive=!1}}},[this.$createElement(s["a"],{props:{right:!0}},"$vuetify.icons.cancel")]):null}},render:function(t){var e=[this.genIcon(),t("div",this.$slots.default),this.genDismissible()],n=this.outline?this.setTextColor:this.setBackgroundColor,s=t("div",n(this.computedColor,{staticClass:"v-alert",class:{"v-alert--outline":this.outline},directives:[{name:"show",value:this.isActive}],on:this.$listeners}),e);return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[s]):s}})},"7d13":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{"justify-center":""}},[t.isUserLoggedIn?n("v-flex",{attrs:{xs8:""}},[n("h2",{staticClass:"mb-4"},[t._v("Purchase History")]),n("v-data-table",{attrs:{headers:t.headers,pagination:t.pagination,items:t.albums},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs"},[n("router-link",{attrs:{to:{name:"album-view",params:{albumId:e.item.AlbumId}}}},[t._v("\n            "+t._s(e.item.title)+"\n            ")])],1),n("td",{staticClass:"text-xs"},[t._v("\n            "+t._s(t.dateFormat(e.item.createdAt))+"\n          ")])]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"cyan"}},[t._v("\n            You haven't purchase anything yet...\n          ")])],1)],2)],1):n("v-flex",{attrs:{xs8:""}},[n("h3",[t._v("Please Login to use this function")])])],1)],1)},a=[],r=n("a34a"),i=n.n(r),o=n("2f62"),l=n("a4bd"),c=function(t){var e=new Date(t);return e.toLocaleString()};function u(t,e,n,s,a,r,i){try{var o=t[r](i),l=o.value}catch(c){return void n(c)}o.done?e(l):Promise.resolve(l).then(s,a)}function h(t){return function(){var e=this,n=arguments;return new Promise(function(s,a){var r=t.apply(e,n);function i(t){u(r,s,a,i,o,"next",t)}function o(t){u(r,s,a,i,o,"throw",t)}i(void 0)})}}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),s.forEach(function(e){f(t,e,n[e])})}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"purchase-history",data:function(){return{headers:[{text:"Purchased Item",align:"left",sortable:!1,value:"title"},{text:"Purchased At",value:"time"}],pagination:{sortBy:"createdAt",descending:!0},albums:[]}},methods:{dateFormat:function(t){return c(t)}},computed:d({},Object(o["b"])({isUserLoggedIn:function(t){return t.auth.isUserLoggedIn},user:function(t){return t.auth.user}})),mounted:function(){var t=h(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isUserLoggedIn){t.next=4;break}return t.next=3,l["a"].index();case 3:this.albums=t.sent.data;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},g=p,v=n("2877"),m=n("6544"),b=n.n(m),y=n("0798"),x=n("a523"),_=n("8fea"),$=n("0e8f"),w=n("a722"),T=Object(v["a"])(g,s,a,!1,null,null,null);T.options.__file="ViewPurchaseHistory.vue";e["default"]=T.exports;b()(T,{VAlert:y["a"],VContainer:x["a"],VDataTable:_["a"],VFlex:$["a"],VLayout:w["a"]})},8895:function(t,e,n){},"8fea":function(t,e,n){"use strict";n("8895"),n("fdb8");var s=n("32f1"),a=n("d9bd"),r=n("41f4"),i=n("9d26");function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var l={props:{sortIcon:{type:String,default:"$vuetify.icons.sort"}},methods:{genTHead:function(){var t=this;if(!this.hideHeaders){var e=[];if(this.$scopedSlots.headers){var n=this.$scopedSlots.headers({headers:this.headers,indeterminate:this.indeterminate,all:this.everyItem});e=[this.hasTag(n,"th")?this.genTR(n):n,this.genTProgress()]}else{var s=this.headers.map(function(e,n){return t.genHeader(e,t.headerKey?e[t.headerKey]:n)}),a=this.$createElement(r["a"],{props:{dark:this.dark,light:this.light,color:!0===this.selectAll?"":this.selectAll,hideDetails:!0,inputValue:this.everyItem,indeterminate:this.indeterminate},on:{change:this.toggle}});this.hasSelectAll&&s.unshift(this.$createElement("th",[a])),e=[this.genTR(s),this.genTProgress()]}return this.$createElement("thead",[e])}},genHeader:function(t,e){var n=[this.$scopedSlots.headerCell?this.$scopedSlots.headerCell({header:t}):t[this.headerText]];return this.$createElement.apply(this,["th"].concat(o(this.genHeaderData(t,n,e))))},genHeaderData:function(t,e,n){var s=["column"],a={key:n,attrs:{role:"columnheader",scope:"col",width:t.width||null,"aria-label":t[this.headerText]||"","aria-sort":"none"}};return null==t.sortable||t.sortable?this.genHeaderSortingData(t,e,a,s):a.attrs["aria-label"]+=": Not sorted.",s.push("text-xs-"+(t.align||"left")),Array.isArray(t.class)?s.push.apply(s,o(t.class)):t.class&&s.push(t.class),a.class=s,[a,e]},genHeaderSortingData:function(t,e,n,s){var r=this;"value"in t||Object(a["c"])("Headers must have a value property that corresponds to a value in the v-model array",this),n.attrs.tabIndex=0,n.on={click:function(){r.expanded={},r.sort(t.value)},keydown:function(e){32===e.keyCode&&(e.preventDefault(),r.sort(t.value))}},s.push("sortable");var o=this.$createElement(i["a"],{props:{small:!0}},this.sortIcon);t.align&&"left"!==t.align?e.unshift(o):e.push(o);var l=this.computedPagination,c=l.sortBy===t.value;c?(s.push("active"),l.descending?(s.push("desc"),n.attrs["aria-sort"]="descending",n.attrs["aria-label"]+=": Sorted descending. Activate to remove sorting."):(s.push("asc"),n.attrs["aria-sort"]="ascending",n.attrs["aria-label"]+=": Sorted ascending. Activate to sort descending.")):n.attrs["aria-label"]+=": Not sorted. Activate to sort ascending."}}},c=n("163e"),u=n("80d2"),h={methods:{genTBody:function(){var t=this.genItems();return this.$createElement("tbody",t)},genExpandedRow:function(t){var e=[];if(this.isExpanded(t.item)){var n=this.$createElement("div",{class:"v-datatable__expand-content",key:Object(u["i"])(t.item,this.itemKey)},[this.$scopedSlots.expand(t)]);e.push(n)}var s=this.$createElement("transition-group",{class:"v-datatable__expand-col",attrs:{colspan:this.headerColumns},props:{tag:"td"},on:Object(c["a"])("v-datatable__expand-col--expanded")},e);return this.genTR([s],{class:"v-datatable__expand-row"})},genFilteredItems:function(){if(!this.$scopedSlots.items)return null;for(var t=[],e=0,n=this.filteredItems.length;e<n;++e){var s=this.filteredItems[e],a=this.createProps(s,e),r=this.$scopedSlots.items(a);if(t.push(this.hasTag(r,"td")?this.genTR(r,{key:this.itemKey?Object(u["i"])(a.item,this.itemKey):e,attrs:{active:this.isSelected(s)}}):r),this.$scopedSlots.expand){var i=this.genExpandedRow(a);t.push(i)}}return t},genEmptyItems:function(t){return this.hasTag(t,"tr")?t:this.hasTag(t,"td")?this.genTR(t):this.genTR([this.$createElement("td",{class:{"text-xs-center":"string"===typeof t},attrs:{colspan:this.headerColumns}},t)])}}},d={methods:{genTFoot:function(){if(!this.$slots.footer)return null;var t=this.$slots.footer,e=this.hasTag(t,"td")?this.genTR(t):t;return this.$createElement("tfoot",[e])},genActionsFooter:function(){return this.hideActions?null:this.$createElement("div",{class:this.classes},this.genActions())}}},f={methods:{genTProgress:function(){var t=this.$createElement("th",{staticClass:"column",attrs:{colspan:this.headerColumns}},[this.genProgress()]);return this.genTR([t],{staticClass:"v-datatable__progress"})}}},p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},g=Object(u["d"])("v-table__overflow");e["a"]={name:"v-data-table",mixins:[s["a"],l,h,d,f],props:{headers:{type:Array,default:function(){return[]}},headersLength:{type:Number},headerText:{type:String,default:"text"},headerKey:{type:String,default:null},hideHeaders:Boolean,rowsPerPageText:{type:String,default:"$vuetify.dataTable.rowsPerPageText"},customFilter:{type:Function,default:function(t,e,n,s){if(e=e.toString().toLowerCase(),""===e.trim())return t;var a=s.map(function(t){return t.value});return t.filter(function(t){return a.some(function(s){return n(Object(u["i"])(t,s,t[s]),e)})})}}},data:function(){return{actionsClasses:"v-datatable__actions",actionsRangeControlsClasses:"v-datatable__actions__range-controls",actionsSelectClasses:"v-datatable__actions__select",actionsPaginationClasses:"v-datatable__actions__pagination"}},computed:{classes:function(){return p({"v-datatable v-table":!0,"v-datatable--select-all":!1!==this.selectAll},this.themeClasses)},filteredItems:function(){return this.filteredItemsImpl(this.headers)},headerColumns:function(){return this.headersLength||this.headers.length+(!1!==this.selectAll)}},created:function(){var t=this.headers.find(function(t){return!("sortable"in t)||t.sortable});this.defaultPagination.sortBy=!this.disableInitialSort&&t?t.value:null,this.initPagination()},methods:{hasTag:function(t,e){return Array.isArray(t)&&t.find(function(t){return t.tag===e})},genTR:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$createElement("tr",e,t)}},render:function(t){var e=t(g,{},[t("table",{class:this.classes},[this.genTHead(),this.genTBody(),this.genTFoot()])]);return t("div",[e,this.genActionsFooter()])}}},a4bd:function(t,e,n){"use strict";var s=n("ca6b");e["a"]={index:function(t){return Object(s["a"])().get("purchase",{params:t})},purchase:function(t){return Object(s["a"])().post("purchase",{items:t})}}},a57f:function(t,e,n){},fdb8:function(t,e,n){}}]);
//# sourceMappingURL=purchase-history.3633f8b2.js.map